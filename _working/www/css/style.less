// style.less
// v1.0.0


// VARIABLES

// TYPOGRAPHY
	@import '../fonts/geomanist/100/stylesheet.css';
	@import '../fonts/geomanist/200/stylesheet.css';
	@import '../fonts/geomanist/300/stylesheet.css';
	@import '../fonts/geomanist/400/stylesheet.css';
	@import '../fonts/geomanist/500/stylesheet.css';
	@import '../fonts/geomanist/600/stylesheet.css';
	@import '../fonts/geomanist/700/stylesheet.css';
	@import '../fonts/geomanist/800/stylesheet.css';
	@import '../fonts/geomanist/900/stylesheet.css';
	@import '../fonts/caslon/400/stylesheet.css';
	@import '../fonts/caslon/600/stylesheet.css';
	@import '../fonts/caslon/700/stylesheet.css';
	@import '../fonts/domicila/stylesheet.css';

	@uiFamily: 'geomanist';
	@ueFamily: 'caslon';
	@iconFamily: 'domicila';
  
	@uiBodySize: 1.7rem;

	@touchBase: 60px;
	@statusBarHeight: 0px;
	@navHeight: (@touchBase + @statusBarHeight);

	//@appBGsolid: rgb(248,243,231); //F8F3E7
	@appBGsolid: #f0f0f0;
	@mainColor: #373737;
	@cardBG: #fff;
	@modalBG: #fafafa;
	@tint: #D7503E;
	@successColor: #7ED321;
	@errorColor: #D0021B;

	@timingFunction: cubic-bezier(.18,.98,.56,1);

// CORE CLASSES
	.hidden {
		display: none !important;
	}
	.touchable {
		-webkit-transition: all 300ms @timingFunction;
		opacity: 1;
	}
	.touched, .disabled {
		opacity: 0.37;
	}

// ANIMATION CLASSES ========================
	.animate(@d:300ms){
		-webkit-transition: all @d @timingFunction !important;
	}
	.animate300 {
		.animate(300ms);
	}
	.animate500 {
		.animate(500ms);
	}
	.tilt {
		-webkit-transform: perspective( 290vh ) rotateX( 15deg );
		-webkit-filter: brightness(0.75);
	}
	.tiltBack {
		-webkit-transform: perspective(290vh) rotateX(9deg) rotateY(-65deg) rotateZ(8deg);
		-webkit-filter: brightness(0.45);
	}
	.viewportBottom {
		-webkit-transform: translateY( 100% );
	}
	.fadeAway {
		//-webkit-transform: perspective( 200vh ) rotateX( 15deg );
		-webkit-filter: grayscale(1) brightness(0.25);
	}
	.spinFaceLeft {
		-webkit-transform: rotate(545deg);
	}
	//infinite rotate
	@-webkit-keyframes spin {
		from { -webkit-transform: rotate(0deg); }
		to   { -webkit-transform: rotate(360deg); }
	}
	.infiniteSpin {
		-webkit-animation-name: spin;
		-webkit-animation-duration: 750ms;
		-webkit-animation-iteration-count: infinite;
		-webkit-animation-timing-function: linear;
	}

// DEFINITIONS

	* {
		-webkit-tap-highlight-color: rgba(0,0,0,0); /* make transparent link selection, adjust last value opacity 0 to 1.0 */
		-webkit-box-sizing: border-box;
	}

	html {
		height: 100%; width: 100%;
		font-size: 10px;
	}

	body {
		-webkit-touch-callout: none;                /* prevent callout to copy image, etc when tap to hold */
		-webkit-text-size-adjust: none;             /* prevent webkit from resizing text to fit */
		-webkit-user-select: none;                  /* prevent copy paste, to allow, change 'none' to 'text' */
		font-family: @uiFamily;
		font-size:10px;
		height:100%; width:100%;
		margin:0px; padding:0px;
		color: @mainColor;
		background-color: #000;
	}

	app {
		.animate(500ms);
		display: block;
		position: fixed;
		top: 0px; left: 0px;
		width: 100%; height: 100%;
		-webkit-transform-origin: 100% 100%;
		overflow: hidden;
		-webkit-filter: brightness(1);
	}

	nav {
		//flexbox definition
		display: -webkit-flex;
		-webkit-box-direction: normal;
		-webkit-box-orient: horizontal;
		-webkit-flex-direction: row;
		-webkit-flex-wrap: nowrap;
		-webkit-box-pack: start;
		-webkit-justify-content: flex-start;
		-webkit-align-content: stretch;
		-webkit-box-align: start;
		-webkit-align-items: flex-start;
		//styles
		overflow: hidden;
		position: absolute;
		z-index: 1;
		width: 100%; height: @navHeight;
		padding-top: @statusBarHeight;
		line-height: @touchBase;
		background-color: rgba(red(@appBGsolid),green(@appBGsolid),blue(@appBGsolid),0.94);
		border-bottom: 1px solid darken(@appBGsolid,5%);
		font-weight: 600;
		font-size: 1.5rem;
		text-transform: uppercase;
		text-align: left;
		//children
		left, title, right {
			-webkit-box-ordinal-group: 1;
			-webkit-order: 0;
			-webkit-align-self: auto;
			display: inline-block;
			i {
				//nav icons
				display: inline-block;
				min-width: @touchBase; height: @touchBase;
				line-height: @touchBase;
				text-align: center;
				font-style: normal;
				img {
					height: @touchBase;
					width: auto;
					vertical-align: center;
					margin: 0px; padding: 0px; border: none;
				}
			}
		}
		left, right {
			-webkit-flex: 0 0 auto;
			min-width: @touchBase; height: @touchBase;
			line-height: @touchBase;
			text-align: center;
		}
		title {
			-webkit-flex: 1 1 auto;
			letter-spacing: 0.075em;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}
	}

	screen {
		position: absolute;
		.animate500();
		display: block;
		width: 100%;
		height: 100%;
		background-color:#ffffff;
		background-image: -webkit-radial-gradient(50% 40%, circle cover, #ffffff, @appBGsolid 100%);
		-webkit-transform-origin: 100% 60%;
		//-webkit-filter: brightness(1);
		middle {
			//flexbox definition
			display: -webkit-flex;
			-webkit-box-direction: normal;
			-webkit-box-orient: horizontal;
			-webkit-flex-direction: column;
			-webkit-flex-wrap: nowrap;
			-webkit-box-pack: start;
			-webkit-justify-content: center;
			-webkit-align-content: stretch;
			-webkit-box-align: start;
			-webkit-align-items: center;
			width: 100%; height: 100%;
			child {
				-webkit-box-ordinal-group: 1;
				-webkit-order: 0;
				-webkit-align-self: auto;
				-webkit-flex: 0 0 auto;
			}
		}
		content {
			display: block;
			width: 100%; height: 100%;
			overflow-x: hidden;
			overflow-y: auto;
			-webkit-overflow-scrolling: touch;
			text-align: center;
			card {
				display: inline-block;
				position: relative;
				margin: 1em;
				//background-color: @cardBG;
				background-color: #eee;
				box-shadow: 0px 3px 9px 0px rgba(90,90,90,0.37);
				height: 40%;
				min-height: 30rem;
				width: 100%;
				max-width: 40rem;
				directions {
					display: inline-block;
					position: absolute;
					top:0; right:0;
					width: @touchBase;
					height: @touchBase;
					line-height: @touchBase;
					text-align: center;
				}
				/*directions:after {
					position: absolute;
					top: 0; left: 0;
					font-family: @iconFamily;
					font-size: 2.5em;
					content: "\e82c";
					width: @touchBase;
					height: @touchBase;
					line-height: @touchBase;
					text-align: center;
					color: #fff;
					text-shadow: 0px 1px 5px rgba(0,0,0,0.17);
				}*/
				label {
					display: block;
					position: absolute;
					width: 100%;
					padding: 2em;
					bottom: 2em; left: 0;
					background-color: rgba(255,255,255,0.57);
					text-align: left;
				}
				address {
					font-size: 2.3em;
					font-weight: 500;
					display: block;
					font-style: normal;
				}
				distance {
					//font-family: @ueFamily;
					font-size: 1.47em;
					font-weight: 600;
					color: lighten(@mainColor,45%);
					display: block;
				}
				distance:before {
					font-family: @iconFamily;
					font-weight: normal;
					content: "\e818  ";
					display: inline;
					color: lighten(@tint,15%);
				}
			}
		}
	}
	screen.hasNav {
		content {
			padding-top: @navHeight;
		}
	}
	screen.hasBottom {
		content {
			padding-bottom: @navHeight;
		}
	}

	modal {
		position: absolute;
		z-index: 10;
		.animate500();
		display: block;
		width: 100%;
		height: 100%;
		-webkit-transform-origin: 50% 100%;
		//-webkit-filter: brightness(1);
		top {
			position: absolute;
			top: 0; left: 0;
			width: 100%;
			height: (@touchBase * 1.5);
			color: #fff;
			background-color: @tint;
			//flexbox definition
			display: -webkit-flex;
			-webkit-box-direction: normal;
			-webkit-box-orient: horizontal;
			-webkit-flex-direction: row;
			-webkit-flex-wrap: nowrap;
			-webkit-box-pack: start;
			-webkit-justify-content: space-around;
			-webkit-align-content: stretch;
			-webkit-box-align: start;
			-webkit-align-items: center;
			i.item {
				-webkit-box-ordinal-group: 1;
				-webkit-order: 0;
				-webkit-align-self: auto;
				-webkit-flex: 0 0 auto;
				width: (@touchBase * 1.5);
				height: (@touchBase * 1.5);
				line-height: (@touchBase * 1.5);
				i {
					display: inline-block;
					width: 100%;
					height: 100%;
					text-align: center;
					font-style: normal;
					font-size: 2.1rem;
				}
			}
		}
		content {
			position: absolute;
			top: (@touchBase * 1.5); left: 0; bottom: 0; right: 0;
			background-color: @modalBG;
			padding: 1em;
			overflow-x: hidden;
			overflow-y: auto;
			-webkit-overflow-scrolling: touch;
		}
	}

	bottom {
		display: block;
		position: absolute;
		left: 0; bottom: 0;
		width: 100%;
		//height: @touchBase;
		min-height: @touchBase;
	}

	menu {
		.animate500();
		display: inline-block;
		position: fixed;
		top: 0px; left: 0px;
		width: 90%; height: 100%;
		max-width: 350px;
		margin: 0; padding: 2rem;
		background: -webkit-linear-gradient(left, #262626 0, rgba(38,38,38,0.8) 47%, rgba(38,38,38,0) 100%);
		color: @appBGsolid;
		//flexbox definition
		display: -webkit-flex;
		-webkit-box-direction: normal;
		-webkit-box-orient: horizontal;
		-webkit-flex-direction: column;
		-webkit-flex-wrap: nowrap;
		-webkit-box-pack: start;
		-webkit-justify-content: space-between;
		-webkit-align-content: stretch;
		-webkit-box-align: start;
		-webkit-align-items: flex-start;
		group {
			-webkit-box-ordinal-group: 1;
			-webkit-order: 0;
			-webkit-align-self: auto;
			-webkit-flex: 0 0 auto;
			width: 100%;
			#brand {
				width: @touchBase;
				height: auto;
			}
		}
	}
	menu.menu-left {
		-webkit-transform: translateX(-100%);
	}

// UI ELEMENTS

	i.iconText {
		min-height: @touchBase;
		display: inline-block;
		//width: 100%;
		img {
			vertical-align: middle;
			height: @touchBase;
			width: auto;
		}
		label {
			text-transform: uppercase;
			font-size: 1.9rem;
			font-style: normal;
			font-weight: 400;
			font-family: @uiFamily;
			line-height: (@touchBase);
			letter-spacing: 0.1em;
			display: inline-block;
			padding-right: 1em;
		}
	}

	tabs {
		width: 100%;
		height: @touchBase;
		//flexbox definition
		display: -webkit-flex;
		-webkit-box-direction: normal;
		-webkit-box-orient: horizontal;
		-webkit-flex-direction: row;
		-webkit-flex-wrap: nowrap;
		-webkit-box-pack: start;
		-webkit-justify-content: space-around;
		-webkit-align-content: stretch;
		-webkit-box-align: start;
		-webkit-align-items: center;
		border-bottom: 0.1em solid @tint;
		tab {
			display: block;
			-webkit-box-ordinal-group: 1;
			-webkit-order: 0;
			-webkit-align-self: auto;
			-webkit-flex: 1 0 auto;
			height: @touchBase;
			line-height: @touchBase;
			text-align: center;
			border-bottom: 0.2em solid rgba(0,0,0,0);
			font-size: 1.5rem;
			letter-spacing: 0.1em;
			text-transform: uppercase;
			font-weight: 400;
			.animate300();
		}
		tab.active {
			border-bottom: 0.2em solid @tint;
			font-weight: 500;
			color: @tint;
		}
	}

// FORM ELEMENTS

	form {
		display: block;
		margin: 4em auto; padding: 0;
		fieldset {
			-webkit-appearance: none;
			margin: 0; padding: 0; border: none !important;
			display: block;
			input {
				-webkit-user-select: initial;
				position: relative;
				display: block;
				width: 100%;
				margin: 0; border: none;
				-webkit-appearance: none;
				padding: (@uiBodySize/1.5);
				text-align: center;
				outline: none;
				background-color: rgba(0,0,0,0);
				font-family: @ueFamily;
				font-size: @uiBodySize;
				font-weight: 600;
				color: @mainColor;
			}
			input::-webkit-input-placeholder {
				font-family: @uiFamily;
				font-size: @uiBodySize;
				font-weight: 400;
			}
		}
	}
	button {
		-webkit-appearance: none;
		font-size: @uiBodySize;
		font-family: @uiFamily;
		font-weight: 600;
		padding: (@uiBodySize/1.5);
		border: 0.135em solid @tint;
		border-radius: 0.5em;
		background: none;
		color: @tint;
		text-transform: uppercase;
		img {
			height: 100%;
			max-height: @touchBase;
			width: auto;
			vertical-align: middle;
		}
	}
	button:disabled {
		opacity: 0.17;
	}
	button.action {
		border: none;
		border-radius: 0;
		color: #fff;
		background-color: @tint;
		width: 100%; height: @touchBase;
	}
	button.primary {
		border: none;
		border-radius: 0.5em;
		color: @appBGsolid;
		background-color: @tint;
		width: 100%;
	}
	button.text {
		border: none;
	}
	button.textMinor {
		border: none;
		color: lighten(@mainColor,55%);
	}
	horizontalButtonGroup {
		width: 100%;
		//flexbox definition
		display: -webkit-flex;
		-webkit-box-direction: normal;
		-webkit-box-orient: horizontal;
		-webkit-flex-direction: row;
		-webkit-flex-wrap: nowrap;
		-webkit-box-pack: start;
		-webkit-justify-content: space-between;
		-webkit-align-content: stretch;
		-webkit-box-align: start;
		-webkit-align-items: center;
		padding: 0px 1em;
		button {
			-webkit-box-ordinal-group: 1;
			-webkit-order: 0;
			-webkit-align-self: auto;
			-webkit-flex: 0 0 auto;
			display: inline;
			width: auto !important;
		}
	}
	a {
		font-size: @uiBodySize;
		color: @tint;
		text-decoration: none;
	}

// SCREEN-SPECIFIC

	screen#login {
		middle {
			-webkit-justify-content: space-around;
			overflow-x: hidden;
			overflow-y: auto;
			-webkit-overflow-scrolling: touch;
		}
		child {
			width: 100%;
			max-width: (@touchBase * 6);
			text-align: center;
		}
		img#brand {
			width: 20%;
			height: auto;
		}
		form#frm_login {
			width: 70%;
		}
		div#feedback_login {
			text-transform: uppercase;
			font-weight: 500;
			font-size: 1.1rem;
		}
		button#btn_login {
			margin-top: 1em;
		}
		button#btn_goToSignup {
		}
		button#btn_goToSignup:before {
			display: block;
			content: attr(data-preface);
			margin-bottom: 1em;
			font-size: 1.3rem;
			font-weight: 400;
			color: @mainColor;
			opacity: 0.57;
		}
	}
	
	screen#signup {
		middle {
			-webkit-justify-content: space-around;
			overflow-x: hidden;
			overflow-y: auto;
			-webkit-overflow-scrolling: touch;
		}
		child {
			width: 100%;
			max-width: (@touchBase * 6);
			text-align: center;
		}
		img#brand {
			width: 20%;
			height: auto;
		}
		#txt_pass2.good {
			color: @successColor;
		}
		#txt_pass2.bad {
			color: @errorColor;
		}
	}
	
	screen#list {
		nav {
			#btn_refreshDistance {
				.animate(2s);
				-webkit-transform: rotate(0deg);
			}
		}
		content {
			padding-left: 1rem;
			padding-right: 1rem;
			card {
				margin: 1rem 0rem 0rem 0rem;
			}
			card:last-child {
				margin-bottom: 1rem;
			}
		}
	}

// MODAL-SPECIFIC

	modal#addLocation {
		content {
			margin: 0; padding: 0;

		}
		form {
			padding: 0; margin: 0;
			//background-color: modalBG;
			fieldset {
				margin: 2.1rem auto;
				background-color: @appBGsolid;
				header {
					text-transform: uppercase;
					font-size: 1.5rem;
					padding: 1.5rem;
				}
				results {
					display: inline-block;
					position: relative;
					width: 100%;
					item {
						display: block;
						background-color: #fff;
						font-weight: 500;
						font-size: 1.7rem;
						padding: 0 1.5rem;
						padding-right: @touchBase;
						margin-bottom: 0.1rem;
						position: relative;
						line-height: @touchBase;
						height: @touchBase;
						width: 100%;
						overflow: hidden;
						color: lighten(@mainColor,37%);
					}
					item::last-child {
						margin: 0;
					}
					item::after {
						display: inline-block;
						position: absolute;
						top: 0; right: 0;
						width: @touchBase; height: @touchBase;
						line-height: @touchBase;
						text-align: center;
						content: "\e82a";
						font-family: @iconFamily;
						color: lighten(@tint,37%);
					}
					item.selected {
						color: @mainColor;
					}
					item.selected::after {
						content: "\e82b";
						color: @tint;
					}
				}
			}
		}
		#txt_name {
			font-weight: 700;
		}
	}

